{"version":3,"sources":["file:///home/msh/.mshd/11vlcaNewSite/mgmavlca/assets/js/flist.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', () =\u003e {\n    let factories = [];\n\n    const factoriesSearch = document.getElementById('factories-search');\n    factoriesSearch.addEventListener('input', e =\u003e {\n        const value = e.target.value.toLowerCase();\n        factories.forEach(factory =\u003e {\n            const isVisible =\n                factory.FName.toLowerCase().includes(value) ||\n                factory.COwner.toLowerCase().includes(value);\n            factory.element.classList.toggle(\"factories-hidden\", !isVisible);\n        });\n        const visibleCount = factories.filter(factory =\u003e !factory.element.classList.contains(\"factories-hidden\")).length;\n        factoriesCount.textContent = visibleCount;\n    });\n\n    const appScriptId = \"AKfycbxNBipzRe0emt7-6qMV1nxzWLcAzbn61VMhJXqaqqDgEab0tUIgbqrqIfij7WBWwfAv\";\n\n    const factoriesCount = document.getElementById('factories-count');\n    const factoriesBlock = document.getElementById('factories-block');\n    const factoriesTemplate = document.getElementById('factories-template');\n\n    function loadFactories() {\n        const url = `https://script.google.com/macros/s/${appScriptId}/exec?sheet=2025Overview4`;\n\n        factoriesCount.textContent = \"...\";\n        factoriesBlock.innerHTML = 'Please wait. Loading ...';\n\n        fetch(url)\n            .then(res =\u003e res.json())\n            .then(data =\u003e {\n                factoriesBlock.innerHTML = '';\n                factoriesCount.textContent = data.length;\n\n                // build array with objects for search\n                factories = data.map(factoryData =\u003e {\n                    const clone = factoriesTemplate.content.cloneNode(true);\n                    const eachBlock = clone.querySelector('.each-factory-block');\n\n                    eachBlock.querySelector('.each-factory-name').textContent = factoryData.FName;\n                    eachBlock.querySelector('.each-factory-type').textContent = factoryData.COwner;\n                    eachBlock.querySelector('.each-factory-workers').textContent = factoryData.Workers;\n                    eachBlock.querySelector('.each-factory-position').textContent = factoryData.Position;\n                    eachBlock.querySelector('.each-factory-timestamp').textContent = factoryData.Timestamp;\n\n                    factoriesBlock.appendChild(eachBlock);\n\n                    // return object for searching\n                    return {\n                        FName: factoryData.FName || \"\",\n                        COwner: factoryData.COwner || \"\",\n                        element: eachBlock\n                    };\n                });\n            })\n            .catch(err =\u003e {\n                factoriesBlock.innerHTML = \"Error loading data.\";\n                factoriesCount.textContent = \"Error\";\n                console.error(\"Fetch error:\", err);\n            });\n    }\n\n    // Load data on page ready\n    loadFactories();\n\n    const searchForm = document.querySelector('.factories-search-form');\n    searchForm.addEventListener('reset', () =\u003e {\n        document.getElementById('factories-search').value = '';\n        factories.forEach(factory =\u003e {\n            factory.element.classList.remove('factories-hidden');\n        });\n        factoriesCount.textContent = factories.length;\n    });\n    searchForm.addEventListener('submit', (e) =\u003e {\n        e.preventDefault();\n    });\n});"],"mappings":";;AAAA,WAAS,iBAAiB,oBAAoB,MAAM;AAChD,QAAI,YAAY,CAAC;AAEjB,UAAM,kBAAkB,SAAS,eAAe,kBAAkB;AAClE,oBAAgB,iBAAiB,SAAS,OAAK;AAC3C,YAAM,QAAQ,EAAE,OAAO,MAAM,YAAY;AACzC,gBAAU,QAAQ,aAAW;AACzB,cAAM,YACF,QAAQ,MAAM,YAAY,EAAE,SAAS,KAAK,KAC1C,QAAQ,OAAO,YAAY,EAAE,SAAS,KAAK;AAC/C,gBAAQ,QAAQ,UAAU,OAAO,oBAAoB,CAAC,SAAS;AAAA,MACnE,CAAC;AACD,YAAM,eAAe,UAAU,OAAO,aAAW,CAAC,QAAQ,QAAQ,UAAU,SAAS,kBAAkB,CAAC,EAAE;AAC1G,qBAAe,cAAc;AAAA,IACjC,CAAC;AAED,UAAM,cAAc;AAEpB,UAAM,iBAAiB,SAAS,eAAe,iBAAiB;AAChE,UAAM,iBAAiB,SAAS,eAAe,iBAAiB;AAChE,UAAM,oBAAoB,SAAS,eAAe,oBAAoB;AAEtE,aAAS,gBAAgB;AACrB,YAAM,MAAM,sCAAsC,WAAW;AAE7D,qBAAe,cAAc;AAC7B,qBAAe,YAAY;AAE3B,YAAM,GAAG,EACJ,KAAK,SAAO,IAAI,KAAK,CAAC,EACtB,KAAK,UAAQ;AACV,uBAAe,YAAY;AAC3B,uBAAe,cAAc,KAAK;AAGlC,oBAAY,KAAK,IAAI,iBAAe;AAChC,gBAAM,QAAQ,kBAAkB,QAAQ,UAAU,IAAI;AACtD,gBAAM,YAAY,MAAM,cAAc,qBAAqB;AAE3D,oBAAU,cAAc,oBAAoB,EAAE,cAAc,YAAY;AACxE,oBAAU,cAAc,oBAAoB,EAAE,cAAc,YAAY;AACxE,oBAAU,cAAc,uBAAuB,EAAE,cAAc,YAAY;AAC3E,oBAAU,cAAc,wBAAwB,EAAE,cAAc,YAAY;AAC5E,oBAAU,cAAc,yBAAyB,EAAE,cAAc,YAAY;AAE7E,yBAAe,YAAY,SAAS;AAGpC,iBAAO;AAAA,YACH,OAAO,YAAY,SAAS;AAAA,YAC5B,QAAQ,YAAY,UAAU;AAAA,YAC9B,SAAS;AAAA,UACb;AAAA,QACJ,CAAC;AAAA,MACL,CAAC,EACA,MAAM,SAAO;AACV,uBAAe,YAAY;AAC3B,uBAAe,cAAc;AAC7B,gBAAQ,MAAM,gBAAgB,GAAG;AAAA,MACrC,CAAC;AAAA,IACT;AAGA,kBAAc;AAEd,UAAM,aAAa,SAAS,cAAc,wBAAwB;AAClE,eAAW,iBAAiB,SAAS,MAAM;AACvC,eAAS,eAAe,kBAAkB,EAAE,QAAQ;AACpD,gBAAU,QAAQ,aAAW;AACzB,gBAAQ,QAAQ,UAAU,OAAO,kBAAkB;AAAA,MACvD,CAAC;AACD,qBAAe,cAAc,UAAU;AAAA,IAC3C,CAAC;AACD,eAAW,iBAAiB,UAAU,CAAC,MAAM;AACzC,QAAE,eAAe;AAAA,IACrB,CAAC;AAAA,EACL,CAAC;","names":[]}