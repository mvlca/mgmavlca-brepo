{"version":3,"sources":["file:///home/msh/.mshd/11vlcaNewSite/mgmavlca/assets/js/form.js"],"sourcesContent":["document.getElementById('vlcaForm').addEventListener('submit', function(event) {\n\n    // prevent form submit traditionally\n    event.preventDefault();\n\n    // change button text to Wait...\n    const submitButton = document.getElementById('formSubmitButton');\n    const originalText = submitButton.innerHTML;\n    submitButton.innerHTML = \"Please, wait...\";\n    submitButton.classList.add('disabled');\n    submitButton.disabled = true;\n\n    // getting factory information\n    document.getElementById('FName').innerHTML = document.querySelector('input[name=\"entry.1917969894\"]').value;\n    document.getElementById('COwner').innerHTML = document.querySelector('input[name=\"entry.1757697605\"]').value;\n    document.getElementById('FAddress').innerHTML = document.querySelector('input[name=\"entry.1821603962\"]').value;\n    document.getElementById('FWorkers').innerHTML = document.querySelector('input[name=\"entry.2041901163\"]').value;\n    // getting person information\n    document.getElementById('PName').innerHTML = document.querySelector('input[name=\"entry.132345334\"]').value;\n    document.getElementById('PPosition').innerHTML = document.querySelector('select[name=\"entry.1472976476\"]').value;\n    document.getElementById('PPhone').innerHTML = document.querySelector('input[name=\"entry.958304283\"]').value;\n    document.getElementById('PEmail').innerHTML = document.querySelector('input[name=\"entry.934457129\"]').value;\n    // getting labour compliance\n    document.getElementById('ECyn').innerHTML = document.querySelector('input[name=\"entry.1886477039\"]:checked').value;\n    document.getElementById('MWyn').innerHTML = document.querySelector('input[name=\"entry.1666474331\"]:checked').value;\n    document.getElementById('WHyn').innerHTML = document.querySelector('input[name=\"entry.795624906\"]:checked').value;\n    document.getElementById('LHyn').innerHTML = document.querySelector('input[name=\"entry.1930996461\"]:checked').value;\n    const checkedBoxes = document.querySelectorAll('input[name=\"entry.1337884755\"]:checked');\n    if (checkedBoxes.length === 0) {\n        alert(\"Oops! Please select at least one of Certificate or any you have.\");\n        return;\n    }\n    document.getElementById('CERTIy').innerHTML = Array.from(checkedBoxes).map(checkbox =\u003e checkbox.value);\n    document.getElementById('OSHr').innerHTML = document.querySelector('input[name=\"entry.350571800\"]:checked').value;\n    document.getElementById('CHILDyn').innerHTML = document.querySelector('input[name=\"entry.677934120\"]:checked').value;\n    document.getElementById('FORCEDyn').innerHTML = document.querySelector('input[name=\"entry.587878512\"]:checked').value;\n    document.getElementById('DISCRIyn').innerHTML = document.querySelector('input[name=\"entry.236185030\"]:checked').value;\n    document.getElementById('HARASSyn').innerHTML = document.querySelector('input[name=\"entry.1472844120\"]:checked').value;\n    document.getElementById('WCCyn').innerHTML = document.querySelector('input[name=\"entry.1445781650\"]:checked').value;\n    document.getElementById('FOAyn').innerHTML = document.querySelector('input[name=\"entry.2064883437\"]:checked').value;\n    // undertaking\n    document.getElementById('UNDERTy').innerHTML = document.querySelector('input[name=\"entry.1160853913\"]').value;\n    // signing\n    const sigKeyGot = document.querySelector('input[name=\"entry.71647187\"]').value;\n    // String().trim is required for ensuring both are string\n    if (String(sigKeyGot).trim() !== String(generatedSigKey).trim()) {\n        alert(\"Oops! Your signature key does not match. Please generate it again and, copy and paste it correctly.\");\n        return;\n    }\n    document.getElementById('signedSigKey').innerHTML = sigKeyGot;\n    document.getElementById('signedName').innerHTML = document.querySelector('input[name=\"entry.132345334\"]').value;\n    document.getElementById('signedPosition').innerHTML = document.querySelector('select[name=\"entry.1472976476\"]').value;\n    document.getElementById('TStamp').innerHTML = new Date();\n\n    // handle to bypass Google Form Confirmation Message\n    fetch(event.target.action, {\n        method: 'POST',\n        body: new FormData(event.target),\n        mode: 'no-cors'\n    }).then(() =\u003e {\n        document.getElementById('googleFormUpdated').style.display = 'block';\n    }).catch(error =\u003e {\n        alert(\"There was an error of updating Google Form.\");\n    });\n    // Setting Timeout before block views change\n    setTimeout(() =\u003e {\n        // show #afterFormSubmit, scroll to Top and hide #formContainer\n        document.getElementById('afterFormSubmit').style.display = 'block';\n        document.getElementById('formContainer').style.display = 'none';\n        window.scrollTo({top: 0, left: 0});\n        submitButton.innerHTML = originalText;\n        submitButton.disabled = false;\n        submitButton.classList.remove('disabled');\n    }, 1000);\n});\n\ndocument.addEventListener(\"click\", function (e) {\n    const { id } = e.target; // Destructuring for cleaner code\n    const actions = {\n        generateSigKey: generateSigKey,\n        downloadPDF: downloadPDF,\n        printSaveAsPDF: printSaveAsPDF,\n        windowPrint: windowPrint,\n        goToPrevious: goToPrevious,\n    };\n    if (actions[id]) {\n        actions[id]();\n    }\n});\n\nlet generatedSigKey = \"\"; // setting global variable and change it later in generatedSigKey() function\nfunction generateSigKey() {\n    const randomNum = Math.floor(Math.random() * 1000000).toString().padStart(6, 0);\n    const now = new Date();\n    const Year = now.getFullYear();\n    const Month = (now.getMonth() + 1).toString().padStart(2, 0);\n    const Day = now.getDate().toString().padStart(2, 0);\n    const Hour = now.getHours().toString().padStart(2, 0);\n    const Minute = now.getMinutes().toString().padStart(2, 0);\n    const Second = now.getSeconds().toString().padStart(2, 0);\n    const TStamp = `${Year}${Month}${Day}${Hour}${Minute}${Second}`;\n    generatedSigKey = `this-NUM:${randomNum}-may-represent-my-signature-on-TS:${TStamp}`;\n    document.getElementById('genSigKey').innerHTML = generatedSigKey;\n}\nfunction downloadPDF() {\n    // getting the content first\n    const content = document.getElementById('downloadPrintArea');\n    // handle screen width first for mobile phones\n    const originalWidth = content.style.width; // store the original width\n    if (window.innerWidth \u003c= 750) {\n        content.style.width = '900px';\n    }\n    // jsPDF - simple and fast but only on desktop\n    const { jsPDF } = window.jspdf; // required\n    html2canvas(content, { scale: 2}).then(canvas =\u003e {\n        const imgData = canvas.toDataURL(\"image/png\");\n        const pdf = new jsPDF(\"p\", \"mm\", \"a4\");\n        const imgWidth = 190;\n        const imgHeight = (canvas.height * imgWidth) / canvas.width;\n        pdf.addImage(imgData, \"PNG\", 10, 10, imgWidth, imgHeight);\n        pdf.save(\"mgma-vlca-submission.pdf\");\n    });\n    // handle to restore screen width\n    if (originalWidth) {\n        content.style.width = originalWidth;\n    } else {\n        content.style.width = '';\n    }\n}\nfunction printSaveAsPDF() {\n    document.querySelector('header').style.display = 'none';\n    document.querySelector('footer').style.display = 'none';\n    document.getElementById('printHide').style.display = 'none';\n    document.getElementById('googleFormUpdated').style.display = 'none';\n    document.getElementById('printGoBackLine').style.display = 'block';\n    window.print();\n}\nfunction windowPrint() {\n    window.print();\n}\nfunction goToPrevious() {\n    document.getElementById('printGoBackLine').style.display = 'none';\n    document.getElementById('printHide').style.display = 'block';\n    document.querySelector('header').style.display = 'block';\n    document.querySelector('footer').style.display = 'block';\n}"],"mappings":"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","names":[]}